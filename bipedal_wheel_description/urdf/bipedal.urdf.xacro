<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="bipedal">

    <xacro:arg name="use_simulation" default="true"/>
    <xacro:arg name="add_wheel" default="false"/>

    <xacro:include filename="$(find bipedal_wheel_description)/urdf/chassis.urdf.xacro"/>
    <xacro:chassis use_simulation="$(arg use_simulation)" add_wheel="$(arg add_wheel)"/>
    <xacro:include filename="$(find bipedal_wheel_description)/urdf/imu.urdf.xacro"/>
    <xacro:IMU connected_to="base_link" imu_name="base_imu" xyz="0 0 0"
               rpy="0 0 -${pi}"/>

    <xacro:if value="$(arg use_simulation)">
        <gazebo>
            <plugin name="gazebo_ros_control" filename="libbipedal_hw_sim.so">
                <robotNamespace>/</robotNamespace>
                <robotSimType>bipedal_wheel_gazebo/BipedalHWSim</robotSimType>
            </plugin>
        </gazebo>
    </xacro:if>

</robot>
